# 领域驱动设计-初探

## 什么是DDD (领域驱动设计)？
TODO 谁提出的，发展过程：
TODO 解决了什么问题：

> Domain-driven design (DDD) is a software design approach focusing on modelling software to match a domain according to input from that domain's experts. (Reference from [wikipedia](https://en.wikipedia.org/wiki/Domain-driven_design))

领域驱动设计 (DDD) 是一套指导软件设计的思想及方法论，旨在以领域专家输入的领域知识为起点，构建出一个匹配真实业务领域的软件模型。



## 如何践行DDD？
### 战略 VS 战术
    TODO
### 战略
    TODO
#### 问题域与解决方案空间
    TODO
#### 领域划分
    TODO 正交分解 引用《许式伟的架构课》
    TODO

### 战术
    TODO

## 通用语言与限界上下文
    TODO 概念解释
### 通用语言有什么好处
    统一各种概念，降低沟通成本
    代码内部，代码和产品概念用词一致
### 识别不同限界上下文
### 示意图
    TODO 通用语言模型图

## 建模方法
### 面向数据持久化的建模方式
    TODO 缺陷
## 建模方式
### 事件风暴
### 四色建模

## 模型有了，怎么写代码？
### 面向对象设计
    理想的pojo和扁平的三层架构把我们带进了面向过程编程岔路。
    为什么说这是一条岔路?
    面向过程/数据库编程难以封装业务实体及逻辑。 你会发现代码很快就会开始出现各种坏味道，违背开闭原则、迪米特原则、DRY原则等等。
    但是面向对象编程可以避免这些情况出现吗？ 在良好的设计和必要持续性重构下是可以避免的。
#### 贫血模型，充血模型，涨血模型
    TODO 
### 楔子-幻想
    如果有一个无限内存永不宕机的电脑，你会怎么设计你的程序？ (Small Talk)
    也就是说我们可以不用把数据特意的持久化，如果摆脱数据库的schema，我们会怎么设计软件？
#### 回到现实
    不可避免的持久化过程，且io本身是耗时很久的操作。在保证系统吞吐的情况，我们要尽量保证每次只操作必要的那些实体。
    否则可能出现对象直接直接引用过多引发连锁获取的问题
##### 实体-聚合-聚合根
##### 领域服务-领域事件

##### 存储过程进行抽象-Repository
    存储的技术不同，导致持久化过程和读取的，我们需要对存储过程进行抽象。

### 无副作用
#### 值对象
#### 无副作用的函数

### 防腐层
    TODO

## 架构
### 事件驱动
    领域事件
### 六边形架构-圆葱架构
### CQRS-邪教？

## 代码example


![图片](./resources/ModelBeforeDDD.svg)